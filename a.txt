using Microsoft.AspNetCore.Authentication;

[HttpGet("debug-auth")]
public async Task<IActionResult> DebugAuth()
{
    var result = await HttpContext.AuthenticateAsync();
    return Ok(new
    {
        result.Succeeded,
        Failure = result.Failure?.ToString(),
        UserAuth = User.Identity?.IsAuthenticated,
        Scheme = result.Ticket?.AuthenticationScheme
    });
}
